{"version":3,"sources":["scripts/canvas.ts","scripts/debug.ts","node_modules/eventemitter3/index.js","scripts/keystates.ts","scripts/map-generation/coordinate.ts","scripts/map-generation/tile.ts","scripts/map-generation/room-size.ts","scripts/map-generation/direction.ts","scripts/map-generation/portal.ts","scripts/map-generation/room.ts","scripts/map-generation/room-prefab-config.ts","scripts/map-generation/level.ts","scripts/popup.ts","scripts/player.ts","scripts/settings.ts","scripts/index.ts"],"names":[],"mappings":"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","file":"scripts.a8ca55a7.js","sourceRoot":"..","sourcesContent":["\nclass Canvas{\n    public readonly canvasElement = document.getElementById('main-canvas') as HTMLCanvasElement\n    public readonly canvasCTX = this.canvasElement.getContext('2d') as CanvasRenderingContext2D\n    public readonly height = this.canvasElement.height\n    public readonly width = this.canvasElement.width\n}\n\nexport default Canvas","import {emitter, debug} from './index'\n\nclass Debug{\n    public playerXPosition = 0\n    public playerYPosition = 0\n    public levelXOffset = 0\n    public levelYOffset = 0\n    public weapon = ''\n    public direction = ''\n\n\tconstructor(){\n\t\t//draw on event \n\t\temitter.on('renderObjects', this.update.bind(this))\n    }\n    update(){\n        const debuggerPanel = document.getElementById('debugger')\n        if(debuggerPanel){\n            var html = \n            `\n            Player X Position: ${this.playerXPosition}\n            <br>\n            Player Y Position: ${this.playerYPosition}\n            <br>\n            Level X Offset: ${this.levelXOffset}\n            <br>\n            Level Y Offset: ${this.levelYOffset}\n            <br>\n            Facing: ${this.direction}\n            <br><br>\n            Weapon: ${this.weapon}\n            `\n            debuggerPanel.innerHTML = html\n        }\n    }\n}\n\nexport default Debug","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","class Keystates {\n    public readonly LeftArrow = 37;\n    public readonly UpArrow = 38;\n    public readonly RightArrow = 39;\n    public readonly DownArrow = 40;\n    public readonly Space = 32;\n    public readonly AKey = 65;\n    public readonly DKey = 68;\n    public readonly WKey = 87;\n    public readonly SKey = 83;\n\n    public LeftArrowIsActive = false;\n    public UpArrowIsActive = false;\n    public RightArrowIsActive = false;\n    public DownArrowIsActive = false;\n    public SpaceIsActive = false;\n\n    setKey(keycode:number, state:boolean){\n        switch (keycode) {\n            case this.LeftArrow:\n            case this.AKey:\n                this.LeftArrowIsActive = state;\n                if(state){\n                    this.RightArrowIsActive = false;\n                }\n                break;\n            case this.WKey:\n                case this.UpArrow:\n                this.UpArrowIsActive = state;\n                break;\n            case this.RightArrow:\n            case this.DKey:\n                this.RightArrowIsActive = state;\n                if(state){\n                    this.LeftArrowIsActive = false;\n                }\n                break;\n            case this.SKey:\n            case this.DownArrow:\n                this.DownArrowIsActive = state;\n                break;\n            case this.Space:\n                this.SpaceIsActive = state;\n                break;\n        }\n    }\n}\n\nexport default Keystates\n","class Coordinate{\n    constructor(public x: number, public y: number){}\n}\n\nexport default Coordinate","import {emitter, canvas, level, settings} from '../index' \nimport Coordinate from './coordinate'\n\nclass Tile {\n\tpublic w = settings.tileSize\n\tpublic h = settings.tileSize\n  \n\tpublic x: number\n\tpublic y: number\n  \n\tpublic fillColor = \"\"\n\tconstructor(\n\t\tpublic col: number,\n\t\tpublic row: number,\n\t\tpublic isSolid: boolean\n\t) {  \n\t\temitter.on('updatePhysics', this.update.bind(this))\n\t\temitter.on('renderObjects', this.draw.bind(this))\n\t\tthis.x = this.col * this.w\n\t\tthis.y = this.row * this.h\n\t}\n\n\tupdate(){\n\t}\n\n\tdraw(){\n\t\tthis.h = settings.tileSize\n\t\tthis.w = settings.tileSize\n\t\t//determine where to draw the tile\n\t\tconst fallsShort = ((this.col + 1) * this.w) - level.offsetX < 0\n\t\tif(!fallsShort){\n\t\t\tif(settings.drawTextures){\n\t\t\t\tif(this.isSolid){\n\t\t\t\t\tlet thickness = 1\n\t\t\t\t\tlet origin = new Coordinate(this.x - level.offsetX - (thickness), this.y - level.offsetY - (thickness))\n\t\t\t\t\tcanvas.canvasCTX.fillStyle = '#DDD'\n\t\t\t\t\tcanvas.canvasCTX.fillRect(origin.x, origin.y, this.w + (thickness * 2), this.h + (thickness * 2))\n\t\t\t\t\tcanvas.canvasCTX.fillStyle = this.fillColor ? this.fillColor : '#AAA'\n\t\t\t\t\tcanvas.canvasCTX.fillRect(this.x - level.offsetX, this.y - level.offsetY, this.w, this.h)\n\t\t\t\t}else{\n\t\t\t\t\tlet img = document.getElementById('floor')\n\t\t\t\t\tlet origin = new Coordinate(this.x - level.offsetX, this.y - level.offsetY)\n\t\t\t\t\tcanvas.canvasCTX.drawImage(img, origin.x, origin.y, this.w, this.h)\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tlet thickness = 1\n\t\t\t\tlet origin = new Coordinate(this.x - level.offsetX - (thickness), this.y - level.offsetY - (thickness))\n\t\t\t\tcanvas.canvasCTX.fillStyle = '#DDD'\n\t\t\t\tcanvas.canvasCTX.fillRect(origin.x, origin.y, this.w + (thickness * 2), this.h + (thickness * 2))\n\t\t\t\tcanvas.canvasCTX.fillStyle = this.fillColor ? this.fillColor : this.isSolid ? '#AAA' : '#FFF'\n\t\t\t\tcanvas.canvasCTX.fillRect(this.x - level.offsetX, this.y - level.offsetY, this.w, this.h)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default Tile","export enum RoomSize{\n    small = 0,\n    medium = 1,\n    large = 2\n}\n\nexport default RoomSize","enum Direction{\n    up = \"up\",\n    down = \"down\",\n    left = \"left\",\n    right = \"right\"\n}\n\nexport default Direction","import Coordinate from \"./coordinate\"\nimport Direction from \"./direction\"\n\nclass Portal extends Coordinate{\n    public direction: Direction\n    \n    constructor(x: number, y: number, direction: Direction){\n        super(x, y)\n        this.direction = direction\n    }\n}\n\nexport default Portal","import RoomSize from \"./room-size\"\nimport Direction from \"./direction\"\nimport Portal from \"./portal\"\nimport Coordinate from \"./coordinate\"\n\nclass Room{\n    public portals: Portal[] = []\n    public w: number = 0\n    public h: number = 0\n    \n    constructor(public size: RoomSize, public origin:Coordinate, public previousRoomDirection: Direction){\n        //determine sizes\n        switch (size) {\n            case RoomSize.small:\n                this.w = 3\n                this.h = 3\n                break;\n            case RoomSize.medium:\n                this.w = 5\n                this.h = 5\n                break;\n            case RoomSize.large:\n                this.w = 7\n                this.h = 7\n                break;\n            default:\n                break;\n        }\n        //determine portal coordinates\n        //up\n        this.portals.push(new Portal(origin.x + (this.w - 1) / 2, origin.y, Direction.up))\n        //down\n        this.portals.push(new Portal(origin.x + (this.w - 1) / 2, origin.y + this.h -1, Direction.down))\n        //left\n        this.portals.push(new Portal(origin.x, origin.y + (this.h - 1) / 2, Direction.left))\n        //right\n        this.portals.push(new Portal(origin.x + this.w - 1, origin.y + (this.h - 1) / 2, Direction.right))\n    }\n}\n\nexport default Room","import RoomSize from \"./room-size\"\n\nclass RoomPrefabConfig{\n    constructor(\n        public size: RoomSize,\n        public w: number,\n        public h: number\n    ){}\n}\n\nexport const roomPrefabs: RoomPrefabConfig[] = [\n    new RoomPrefabConfig(RoomSize.large, 7, 7),\n    new RoomPrefabConfig(RoomSize.medium, 5, 5),\n    new RoomPrefabConfig(RoomSize.small, 3, 3),\n]\n\nexport default RoomPrefabConfig","import {emitter, debug, settings} from '../index'\nimport Tile from './tile'\nimport Room from './room'\nimport Direction from './direction'\nimport { roomPrefabs } from './room-prefab-config'\nimport Coordinate from './coordinate'\nimport RoomSize from './room-size'\n\nclass Level {\n    //offset data is stored in the level so that each level can load the player in at a different point,\n    //rather than starting the player at 0,0 offset\n    public offsetX = 0\n    public offsetY = 0\n    public playerStartX = 10\n    public playerStartY = 10\n    private tileSize = 0\n\n    public tiles:Tile[][] = []\n    constructor(\n        //width in number of tiles\n        public readonly width: number, \n        //height in number of tiles\n        public readonly height: number\n    ){\n        //listen for updates\n        emitter.on('renderObjects', this.update.bind(this))\n        this.tileSize = settings.tileSize\n        this.renderMap()\n        \n    }\n    update(){\n        debug.levelXOffset = this.offsetX\n        debug.levelYOffset = this.offsetY\n        if(this.tileSize != settings.tileSize){\n            this.tileSize = settings.tileSize\n            this.renderMap()\n        }\n    }\n\n    renderMap(){\n        //tabula rasa\n        this.tiles = []\n        for(let col = 0; col < this.width; col++){\n            var rowTiles: Tile[] = []\n            for (let row = 0; row < this.height; row++) {\n                rowTiles.push(new Tile(col, row, true))\n            }\n            this.tiles.push(rowTiles)\n        }\n\n        //generation vars\n        let canMove = true\n        let moves = 0\n        let rooms: Room[] = []\n        \n        //hardcode first room\n        rooms.push(new Room(RoomSize.large, new Coordinate(0,0), Direction.left))\n        this.carveRoom(rooms[0])\n\n        while(canMove){\n            moves++ \n            if(moves >= 5){\n                canMove = false\n            } \n            let possibleRooms = this.getPossibleRooms(rooms[rooms.length - 1])\n            let chosenRoom = possibleRooms[Math.floor(Math.random() * possibleRooms.length)]\n            console.log(\"going \" + this.getOppositeDirection(chosenRoom.previousRoomDirection) + \" into\")\n            console.log(chosenRoom)\n            \n            rooms.push(chosenRoom)\n            this.carveRoom(chosenRoom)\n            this.carveConnection(chosenRoom)\n        }\n        console.log(rooms)\n    }\n\n    carveConnection(room: Room){\n        let ingress = room.portals.filter(p => p.direction == room.previousRoomDirection)[0]\n        switch (room.previousRoomDirection) {\n            case Direction.up:\n                this.tiles[ingress.x][ingress.y - 1].isSolid = false\n                this.tiles[ingress.x][ingress.y - 1].fillColor = \"#aaffaa\"\n                this.tiles[ingress.x][ingress.y - 2].isSolid = false\n                this.tiles[ingress.x][ingress.y - 2].fillColor = \"#aaffaa\"\n                break;\n            case Direction.down:\n                this.tiles[ingress.x][ingress.y + 1].isSolid = false\n                this.tiles[ingress.x][ingress.y + 1].fillColor = \"#aaffaa\"\n                this.tiles[ingress.x][ingress.y + 2].isSolid = false\n                this.tiles[ingress.x][ingress.y + 2].fillColor = \"#aaffaa\"\n                break;\n            case Direction.right:\n                this.tiles[ingress.x + 1][ingress.y].isSolid = false\n                this.tiles[ingress.x + 1][ingress.y].fillColor = \"#aaffaa\"\n                this.tiles[ingress.x + 2][ingress.y].isSolid = false\n                this.tiles[ingress.x + 2][ingress.y].fillColor = \"#aaffaa\"\n                break;\n            case Direction.left:\n                this.tiles[ingress.x - 1][ingress.y].isSolid = false\n                this.tiles[ingress.x - 1][ingress.y].fillColor = \"#aaffaa\"\n                this.tiles[ingress.x - 2][ingress.y].isSolid = false\n                this.tiles[ingress.x - 2][ingress.y].fillColor = \"#aaffaa\"\n                break;\n            default:\n                break;\n        }\n    }\n    \n    carveRoom(room: Room){\n        //carve tiles\n        for(let row = 0; row < room.h; row++){\n            for(let col = 0; col < room.w; col++){\n                //carve it\n                this.tiles[room.origin.x + row][room.origin.y + col].isSolid = false\n            }\n        }\n        room.portals.forEach(p => {\n            this.tiles[p.x][p.y].fillColor = \"#ffaaaa\"\n        })\n        return room\n    }\n\n     getPossibleRooms(room: Room){\n        let possibleRooms: Room[] = []\n\n        //check each portal\n        room.portals.forEach(portal => {\n            //draw new rooms based on ingress\n            //keep in mind the ingress is the centerpoint of the room\n            //adjust accordingly for new origin\n            roomPrefabs.forEach(prefab => {\n                let proposedOrigin = new Coordinate(0,0)\n                //get origin for ingress and prefab\n                switch (portal.direction) {\n                    //portal direction is the direction of travel\n                    case Direction.up:\n                        proposedOrigin.x = portal.x - (prefab.w - 1) / 2\n                        proposedOrigin.y = portal.y - 2 - prefab.h\n                        break;\n                    case Direction.down:\n                        proposedOrigin.x = portal.x - (prefab.w - 1) / 2\n                        proposedOrigin.y = portal.y + 3\n                    break;\n                    case Direction.left:\n                        proposedOrigin.x = portal.x - prefab.w - 2\n                        proposedOrigin.y = portal.y - (prefab.h - 1) / 2\n                    break;\n                    case Direction.right:\n                        proposedOrigin.x = portal.x + 3\n                        proposedOrigin.y = portal.y - (prefab.h - 1) / 2\n                    break;\n                    default:\n                        break;\n                }\n                //generate new room from proposed origin\n                let newRoom = new Room(\n                    prefab.size,\n                    new Coordinate(proposedOrigin.x, proposedOrigin.y),\n                    this.getOppositeDirection(portal.direction))\n                //check room collision against carved tiles\n                if(proposedOrigin.x >= 0 && proposedOrigin.y >= 0){\n                    if(portal.direction == Direction.down || portal.direction == Direction.right){\n                        possibleRooms.push(newRoom)\n                    }\n                }\n            })\n        })\n        return possibleRooms\n    }\n\n    getOppositeDirection(d: Direction){\n        switch (d) {\n            case Direction.up:\n                return Direction.down\n            case Direction.down:\n                return Direction.up\n            case Direction.left:\n                return Direction.right\n            case Direction.right:\n                return Direction.left\n\n        }\n    }\n}\n\nexport default Level","import { canvas, level, emitter } from \".\";\n\nclass Popup{\n    public xVelocity = 1\n    public yVelocity = -1\n    public color = '255, 255, 255'\n    public alpha = 1\n    public duration = 40\n\n    constructor(\n        public text: string,\n        public x: number,\n        public y: number,\n    ){\n        emitter.on('updatePhysics', this.update)\n        emitter.on('renderObjects', this.draw)\n    }\n\n    update = this._update.bind(this)\n    draw = this._draw.bind(this)\n\n    _update(){\n        this.duration--\n        if(this.duration > 10){\n            this.x += this.xVelocity\n            this.y += this.yVelocity\n        }\n        if(this.duration === 0)        {\n            emitter.off('updatePhysics', this.update)\n            emitter.off('renderObjects', this.draw)\n        }\n    }\n\n    _draw(){\n        canvas.canvasCTX.fillStyle = this.color\n        canvas.canvasCTX.fillText(this.text, this.x - level.offsetX, this.y)\n    }\n}\n\nexport default Popup","import {\n\temitter,\n\tkeystates,\n\tlevel,\n\tcanvas,\n\tdebug,\n\tsettings\n} from './index'\nimport Popup from './popup'\n\nclass Player {\n\tpublic id = 1\n\tpublic height = 5\n\tpublic width = 5\n\tpublic fallSpeed0 = 0\n\tpublic jumpSpeed = 0\n\tpublic canJump = true\t\n\tpublic xForCamera = 0\n\tpublic yForCamera = 0\n\tpublic direction = 'right'\n\tpublic activeAttackHitboxWidth = 0\n\tpublic activeAttackHitboxHeight = 0\n\tpublic activeAttackDuration = 0\n\tpublic enemiesHit:number[] = []\n\tpublic hitPoints: number = 100\n\tpublic knockback: number = 0\n\tpublic knockbackDirection: string = \"\"\n\tpublic moveSpeed: number = 5\n\n\tconstructor(\n\t\tpublic x: number, \n\t\tpublic y: number\n\t){\n\t\temitter.on('updatePhysics', this.update.bind(this))\n\t\temitter.on('renderObjects', this.draw.bind(this))\n\t}\n\n\tdraw(){\n\t\t//draw player\n\t\tcanvas.canvasCTX.fillStyle = '#000000'\n\t\tcanvas.canvasCTX.fillRect(this.xForCamera, this.yForCamera, this.width, this.height)\n\t}\n\n\tupdate(){\n\t\t//distance to move\n\t\tlet delta = 0\n\t\t//move player based on input\n\t\tif (keystates.RightArrowIsActive) {\n\t\t\tthis.direction = 'right'\n\t\t\tdelta = this.moveSpeed\n\t\t\tthis.moveHorizontal(delta)\n\t\t} \n\t\tif (keystates.LeftArrowIsActive) {\n\t\t\tthis.direction = 'left'\n\t\t\tdelta = this.moveSpeed * -1\n\t\t\tthis.moveHorizontal(delta)\n\t\t}\n\t\tif (keystates.UpArrowIsActive) {\n\t\t\tthis.direction = 'up'\n\t\t\tdelta = this.moveSpeed * -1\n\t\t\tthis.moveVertical(delta)\n\t\t}\n\t\tif (keystates.DownArrowIsActive) {\n\t\t\tthis.direction = 'down'\n\t\t\tdelta = this.moveSpeed\n\t\t\tthis.moveVertical(delta)\n\t\t}\n\n\t\tif(level.offsetX === 0){\n\t\t\tthis.xForCamera = this.x\n\t\t}\n\t\tif(level.offsetY === 0){\n\t\t\tthis.yForCamera = this.y\n\t\t}\n\n\t\t//log player stats to debugger\n\t\tdebug.playerXPosition = this.x\n\t\tdebug.playerYPosition = this.y\n\t\tdebug.direction = this.direction\n\t}\n\n\tmoveVertical(delta: number){\n\t\t//move down\n\t\tif(delta > 0){\n\t\t\tfor (let i = 1; i <= delta; i++) {\n\t\t\t\tthis.y++\n\t\t\t\tif(!this.validatePosition()){\n\t\t\t\t\tthis.y--\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t//set level offset to keep player centered on canvas\n\t\t\t\tif(this.y + (this.width / 2) > canvas.width / 2){\n\t\t\t\t\tlevel.offsetY++\n\t\t\t\t}\n\t\t\t}\n\t\t//move up\n\t\t}else{\n\t\t\tfor (let i = -1; i >= delta; i--) {\n\t\t\t\tthis.y--\n\t\t\t\tif(!this.validatePosition()){\n\t\t\t\t\tthis.y++\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t//set level offset to keep player centered on canvas\n\t\t\t\tif(level.offsetY > 0){\n\t\t\t\t\tlevel.offsetY--\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveHorizontal(delta: number){\n\t\t//move right\n\t\tif(delta > 0){\n\t\t\tfor (let i = 1; i <= delta; i++) {\n\t\t\t\tthis.x++\n\t\t\t\tif(!this.validatePosition()){\n\t\t\t\t\tthis.x--\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t//set level offset to keep player centered on canvas\n\t\t\t\tif(this.x + (this.width / 2) > canvas.width / 2){\n\t\t\t\t\tlevel.offsetX++\n\t\t\t\t}\n\t\t\t}\n\t\t//move left\n\t\t}else{\n\t\t\tfor (let i = -1; i >= delta; i--) {\n\t\t\t\tthis.x--\n\t\t\t\tif(!this.validatePosition()){\n\t\t\t\t\tthis.x++\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t//set level offset to keep player centered on canvas\n\t\t\t\tif(level.offsetX > 0){\n\t\t\t\t\tlevel.offsetX--\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tvalidatePosition(){\n\t\tlet positionIsValid = true\n\t\t//get all tiles player is occupying, check for collisions\n\t\t//col the player's left side is in\n\t\tconst playerLeftAlignment = Math.floor(this.x / settings.tileSize);\n\t\t//col the player's right side is in\n\t\tconst playerRightAlignment = Math.floor((this.x + this.width) / settings.tileSize);\n\t\t//row the player's top is in\n\t\tconst playerTopAlignment = Math.floor(this.y / settings.tileSize);\n\t\t//row the player's bottom is in\n\t\t//-1 prevents floor from stopping movement\n\t\tconst playerBottomAlignment = Math.floor((this.y + this.height - 1) / settings.tileSize);\n\n\t\tif(\n\t\t\tplayerBottomAlignment < 0 ||\n\t\t\tplayerTopAlignment < 0 ||\n\t\t\tplayerLeftAlignment < 0 ||\n\t\t\tplayerRightAlignment < 0 \n\t\t) return false;\n\n\t\t//check level data and see if any of the intersected tiles are solid\n\t\t//at most, four tiles to check\n\t\t//top left\n\t\tif(level.tiles[playerLeftAlignment][playerTopAlignment].isSolid) positionIsValid = false\n\t\t//top right\n\t\tif(level.tiles[playerRightAlignment][playerTopAlignment].isSolid) positionIsValid = false\n\t\t//bottom left\n\t\tif(level.tiles[playerLeftAlignment][playerBottomAlignment].isSolid) positionIsValid = false\n\t\t//bottom right\n\t\tif(level.tiles[playerRightAlignment][playerBottomAlignment].isSolid) positionIsValid = false\n\n\t\t//return validity of position\n\t\treturn positionIsValid;\n\t}\n\n\tapplyHit(damage: number, knockback: number, knockbackDirection: string){\n\t\t//logic for decrementing hitpoints\n\t\tthis.hitPoints -= damage\n\n\t\t//send him flying\n\t\tthis.knockback = knockback\n\t\tthis.jumpSpeed = 8\n\t\tthis.knockbackDirection = knockbackDirection\n\n\t\t//hit splat\n\t\tnew Popup(damage.toString(), this.x, this.y,)\n\n\t\t//death\n\t\tif (this.hitPoints <= 0) {\n\t\t\tconsole.log('Oh dear, you are dead!')\n\t\t}\n\t}\n}\n\nexport default Player","class Settings {\n    public tileSize = 15\n    public drawTextures = false\n\n    zoom(event: WheelEvent){\n        event.preventDefault()\n        if(event.deltaY > 0){\n            this.tileSize += -2\n        }\n        else{\n            this.tileSize += 2\n        }\n    }\n}\n\nexport default Settings","import Canvas from './canvas'\nimport Debug from './debug'\nimport {EventEmitter} from 'eventemitter3'\nimport Keystates from './keystates'\nimport Level from './map-generation/level'\nimport Player from './player'\nimport Settings from './settings'\n\n//dont reorder these\nexport const settings = new Settings()\nexport const emitter = new EventEmitter()\nexport const keystates = new Keystates()\nexport const level = new Level(100,100)\nexport const player = new Player(level.playerStartX, level.playerStartY)\nexport const canvas = new Canvas()\nexport const debug = new Debug()\n\nfunction main(){\n\t//register key listeners\n\tdocument.addEventListener(\"keydown\", function(evt) {\n\t\tkeystates.setKey(evt.keyCode, true)\n\t})\n\tdocument.addEventListener(\"keyup\", function(evt) {\n\t\tkeystates.setKey(evt.keyCode, false)\n\t})\n\tdocument.getElementById(\"main-canvas\").addEventListener('wheel', function(evt) {\n\t\tsettings.zoom(evt)\n\t})\n\tdocument.getElementById(\"generate-button\").addEventListener('click', function(evt){\n\t\tlevel.renderMap()\n\t})\n\n\t//calc physics at 60fps\n\tsetInterval(function(){\n\t\temitter.emit('updatePhysics')\n\t}, 16)\n\n\t//draw at 60 fps as well\n\tsetInterval(function(){\n\t\temitter.emit('renderObjects')\n\t}, 16)\n}\n\nwindow.onload = function(){\n\tmain()\n}\n"]}