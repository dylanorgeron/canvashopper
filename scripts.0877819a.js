parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"N3Pg":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var e=function e(){t(this,e),this.canvasElement=document.getElementById("main-canvas"),this.canvasCTX=this.canvasElement.getContext("2d"),this.height=this.canvasElement.height,this.width=this.canvasElement.width};exports.default=e;
},{}],"ODNz":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../index"),a=function(){function n(){e(this,n),this.playerXPosition=0,this.playerYPosition=0,this.cameraX=0,this.cameraY=0,this.weapon="",r.emitter.on("renderObjects",this.update.bind(this))}return t(n,[{key:"update",value:function(){var e=document.getElementById("debugger");if(e){var n="\n            Player X Position: ".concat(this.playerXPosition,"\n            <br>\n            Player Y Position: ").concat(this.playerYPosition,"\n            <br>\n            Camera X: ").concat(this.cameraX,"\n            <br>\n            Camera Y: ").concat(this.cameraY,"\n            <br>\n            ");e.innerHTML=n}}}]),n}();exports.default=a;
},{"../index":"KqmS"}],"LqgX":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"diul":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(){t(this,e),this.LeftArrow=37,this.UpArrow=38,this.RightArrow=39,this.DownArrow=40,this.Space=32,this.AKey=65,this.DKey=68,this.WKey=87,this.SKey=83,this.LeftArrowIsActive=!1,this.UpArrowIsActive=!1,this.RightArrowIsActive=!1,this.DownArrowIsActive=!1,this.SpaceIsActive=!1}return i(e,[{key:"setKey",value:function(t,e){switch(t){case this.LeftArrow:case this.AKey:this.LeftArrowIsActive=e,e&&(this.RightArrowIsActive=!1);break;case this.WKey:case this.UpArrow:this.UpArrowIsActive=e;break;case this.RightArrow:case this.DKey:this.RightArrowIsActive=e,e&&(this.LeftArrowIsActive=!1);break;case this.SKey:case this.DownArrow:this.DownArrowIsActive=e;break;case this.Space:this.SpaceIsActive=e}}}]),e}();exports.default=r;
},{}],"kdF2":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large"}(e=exports.RoomSize||(exports.RoomSize={})),exports.default=e;
},{}],"k0V4":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.up="up",e.down="down",e.left="left",e.right="right"}(e||(e={})),exports.default=e;
},{}],"oNOt":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var e=function e(n,s){t(this,e),this.x=n,this.y=s};exports.default=e;
},{}],"bTC0":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=i();return function(){var r,n=f(t);if(e){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var s=l(require("./coordinate")),a=function(t){r(u,s.default);var n=o(u);function u(t,r,o){var c;return e(this,u),(c=n.call(this,t,r)).isEntrance=!1,c.isExit=!1,c.direction=o,c}return u}();exports.default=a;
},{"./coordinate":"oNOt"}],"lehy":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0});var r=require(".."),u=require("../index"),i=function(){function t(){e(this,t),this.zIndex=0,u.drawQueue.drawables.push(this),r.emitter.on("updatePhysics",this.update.bind(this))}return n(t,[{key:"draw",value:function(){}},{key:"update",value:function(){}}]),t}();exports.default=i;
},{"..":"KqmS","../index":"KqmS"}],"HhU3":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=s();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var y=f(require("../engine/drawable")),h=require("../index"),p=f(require("./coordinate")),v=function(t){i(o,y.default);var n=c(o);function o(t,r,i){var c;return e(this,o),(c=n.call(this)).col=t,c.row=r,c.isSolid=i,c.w=h.settings.tileSize,c.h=h.settings.tileSize,c.fillColor="",c.img="",c.zIndex=1,c.x=c.col*c.w,c.y=c.row*c.h,c}return r(o,[{key:"update",value:function(){}},{key:"draw",value:function(){this.h=h.settings.tileSize,this.w=h.settings.tileSize;var t=new p.default(this.x-h.camera.originX-1,this.y-h.camera.originY-1);if(!(t.x+h.settings.tileSize<0&&t.x<h.canvas.width&&t.y+h.settings.tileSize<0&&t.y<h.canvas.height))if(h.settings.drawTextures){var e=document.getElementById(this.img?this.img:"floor"),n=new p.default(this.x-h.camera.originX,this.y-h.camera.originY);h.canvas.canvasCTX.drawImage(e,n.x,n.y,this.w,this.h)}else h.canvas.canvasCTX.fillStyle="#DDD",h.canvas.canvasCTX.fillRect(t.x,t.y,this.w+2,this.h+2),h.canvas.canvasCTX.fillStyle=this.fillColor?this.fillColor:this.isSolid?"#AAA":"#FFF",h.canvas.canvasCTX.fillRect(this.x-h.camera.originX,this.y-h.camera.originY,this.w,this.h)}}]),o}();exports.default=v;
},{"../engine/drawable":"lehy","../index":"KqmS","./coordinate":"oNOt"}],"WRMb":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var s=r(require("./room-size")),n=r(require("./direction")),o=r(require("./portal")),h=r(require("./tile")),a=function(){function i(e,r,h){switch(t(this,i),this.size=e,this.origin=r,this.enteredFrom=h,this.portals=[],this.tiles=[],this.w=0,this.h=0,e){case s.default.small:this.w=3,this.h=3;break;case s.default.medium:this.w=5,this.h=5;break;case s.default.large:this.w=7,this.h=7}switch(this.portals.push(new o.default(r.x+(this.w-1)/2,r.y,n.default.up)),this.portals.push(new o.default(r.x+(this.w-1)/2,r.y+this.h-1,n.default.down)),this.portals.push(new o.default(r.x,r.y+(this.h-1)/2,n.default.left)),this.portals.push(new o.default(r.x+this.w-1,r.y+(this.h-1)/2,n.default.right)),this.enteredFrom){case n.default.up:this.portals.filter(function(t){return t.direction===n.default.up})[0].isEntrance=!0;break;case n.default.down:this.portals.filter(function(t){return t.direction===n.default.down})[0].isEntrance=!0;break;case n.default.left:this.portals.filter(function(t){return t.direction===n.default.left})[0].isEntrance=!0;break;case n.default.right:this.portals.filter(function(t){return t.direction===n.default.right})[0].isEntrance=!0}}return e(i,[{key:"generateTiles",value:function(){this.getEntrancePortal()||console.warn("No entrance portal set for room at origin ("+this.origin.x+", "+this.origin.y+")"),this.getExitPortal()||console.warn("No exit portal set for room at origin ("+this.origin.x+", "+this.origin.y+")");for(var t=this.origin.x;t<this.w+this.origin.x;t++)for(var i=this.origin.y;i<this.h+this.origin.y;i++){new h.default(t,i,!1).img="floor",this.tiles.push(new h.default(t,i,!1))}for(var e=this.origin.x;e<this.w+this.origin.x;e++){if(this.tileIsNotActivePortal(e,this.origin.y)){var r=new h.default(e,this.origin.y-1,!0);r.img="wall_upper",this.tiles.push(r)}if(this.tileIsNotActivePortal(e,this.origin.y+this.h-1)){var s=new h.default(e,this.origin.y+this.h,!0);s.img="wall_bottom",this.tiles.push(s)}}for(var n=this.origin.y;n<this.h+this.origin.y;n++){if(this.tileIsNotActivePortal(this.origin.x,n)){var o=new h.default(this.origin.x-1,n,!0);o.img="wall_left",this.tiles.push(o)}if(this.tileIsNotActivePortal(this.origin.x+this.w-1,n)){var a=new h.default(this.origin.x+this.w,n,!0);a.img="wall_right",this.tiles.push(a)}}new h.default(this.origin.x-1,this.origin.y-1,!0).img="corner_upper_left",new h.default(this.origin.x+this.w,this.origin.y-1,!0).img="corner_upper_right",new h.default(this.origin.x-1,this.origin.y+this.h,!0).img="corner_bottom_left",new h.default(this.origin.x+this.w,this.origin.y+this.h,!0).img="corner_bottom_right"}},{key:"tileIsNotActivePortal",value:function(t,i){return 0==this.portals.filter(function(e){return(e.isEntrance||e.isExit)&&e.x===t&&e.y===i}).length}},{key:"getEntrancePortal",value:function(){return this.portals.filter(function(t){return t.isEntrance})[0]}},{key:"getExitPortal",value:function(){return this.portals.filter(function(t){return t.isExit})[0]}}]),i}();exports.default=a;
},{"./room-size":"kdF2","./direction":"k0V4","./portal":"bTC0","./tile":"HhU3"}],"MyIl":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(require("./room-size")),s=function t(r,s,a){e(this,t),this.size=r,this.w=s,this.h=a};exports.roomPrefabs=[new s(r.default.large,7,7),new s(r.default.medium,5,5),new s(r.default.small,3,3)],exports.default=s;
},{"./room-size":"kdF2"}],"oVR7":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var s=t(require("./direction")),i=t(require("./tile")),u=function t(u,a,l){switch(e(this,t),this.entrance=u,this.exit=a,this.tiles=[],u.direction){case s.default.up:this.tiles.push(new i.default(u.x,u.y-1,!1)),this.tiles.push(new i.default(u.x,u.y-2,!1));break;case s.default.down:this.tiles.push(new i.default(u.x,u.y+1,!1)),this.tiles.push(new i.default(u.x,u.y+2,!1));break;case s.default.right:this.tiles.push(new i.default(u.x+1,u.y,!1)),this.tiles.push(new i.default(u.x+2,u.y,!1));break;case s.default.left:this.tiles.push(new i.default(u.x-1,u.y,!1)),this.tiles.push(new i.default(u.x-2,u.y,!1))}};exports.default=u;
},{"./direction":"k0V4","./tile":"HhU3"}],"Q5Gq":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var a=require("../index"),n=o(require("./room")),i=o(require("./direction")),u=require("./room-prefab-config"),l=o(require("./coordinate")),s=o(require("./room-size")),f=o(require("./hallway")),c=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;e(this,t),this.rooms=[],this.hallways=[],this.generateMap(r)}return r(t,[{key:"generateMap",value:function(e){var t=this,r=!0,o=0;this.rooms=[];var u=new n.default(s.default.large,new l.default(0,0),i.default.up);u.generateTiles(),u.getEntrancePortal().isEntrance=!1,this.rooms.push(u);for(var c=function(){++o>=e&&(r=!1);var a=t.rooms[t.rooms.length-1],n=t.getPossibleRooms(a),i=n[Math.floor(Math.random()*n.length)];a.portals.filter(function(e){return e.direction===t.getOppositeDirection(i.enteredFrom)})[0].isExit=!0,t.rooms.push(i),t.hallways.push(new f.default(a.getExitPortal(),i.getEntrancePortal(),1))};r;)c();this.rooms.forEach(function(e,t){e.generateTiles(),a.director.populateRoom(e,t)}),console.log(this.rooms)}},{key:"getPossibleRooms",value:function(e){var t=this,r=[];return e.portals.forEach(function(e){u.roomPrefabs.forEach(function(o){var a=new l.default(0,0);switch(e.direction){case i.default.up:a.x=e.x-(o.w-1)/2,a.y=e.y-2-o.h;break;case i.default.down:a.x=e.x-(o.w-1)/2,a.y=e.y+3;break;case i.default.left:a.x=e.x-o.w-2,a.y=e.y-(o.h-1)/2;break;case i.default.right:a.x=e.x+3,a.y=e.y-(o.h-1)/2}var u=new n.default(o.size,new l.default(a.x,a.y),t.getOppositeDirection(e.direction));a.x>=0&&a.y>=0&&(e.direction!=i.default.down&&e.direction!=i.default.right||r.push(u))})}),r}},{key:"getOppositeDirection",value:function(e){switch(e){case i.default.up:return i.default.down;case i.default.down:return i.default.up;case i.default.left:return i.default.right;case i.default.right:return i.default.left}}},{key:"getTileByCoords",value:function(e,t){var r=null;return this.rooms.forEach(function(o){o.tiles.forEach(function(o){o.col==e&&o.row==t&&(r=o)})}),this.hallways.forEach(function(o){o.tiles.forEach(function(o){o.col==e&&o.row==t&&(r=o)})}),r}},{key:"isTileSolid",value:function(e,t){var r=this.getTileByCoords(e,t);return null==r||r.isSolid}}]),t}();exports.default=c;
},{"../index":"KqmS","./room":"WRMb","./direction":"k0V4","./room-prefab-config":"MyIl","./coordinate":"oNOt","./room-size":"kdF2","./hallway":"oVR7"}],"UOjr":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=l();return function(){var i,r=u(t);if(e){var o=u(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return s(this,i)}}function s(e,i){if(i&&("object"===t(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var h=require("../index"),v=f(require("./drawable")),y=function(t){o(n,v.default);var i=a(n);function n(t,r){var o;return e(this,n),(o=i.call(this)).x=t,o.y=r,o.height=5,o.width=5,o.direction="right",o.moveSpeed=10,o.zIndex=2,h.camera.originX=t-h.canvas.width/2,h.camera.originY=r-h.canvas.height/2,o}return r(n,[{key:"draw",value:function(){h.canvas.canvasCTX.fillStyle="#ff0000",h.canvas.canvasCTX.fillRect(h.canvas.width/2-this.width/2,h.canvas.height/2-this.height/2,this.width,this.height)}},{key:"update",value:function(){var t=0;h.keystates.RightArrowIsActive&&(this.direction="right",t=this.moveSpeed,this.moveHorizontal(t)),h.keystates.LeftArrowIsActive&&(this.direction="left",t=-1*this.moveSpeed,this.moveHorizontal(t)),h.keystates.UpArrowIsActive&&(this.direction="up",t=-1*this.moveSpeed,this.moveVertical(t)),h.keystates.DownArrowIsActive&&(this.direction="down",t=this.moveSpeed,this.moveVertical(t)),h.debug.playerXPosition=this.x,h.debug.playerYPosition=this.y}},{key:"moveVertical",value:function(t){if(t>0)for(var e=1;e<=t;e++){if(this.y++,!this.validatePosition()){this.y--;break}h.camera.originY++}else for(var i=-1;i>=t;i--){if(this.y--,!this.validatePosition()){this.y++;break}h.camera.originY--}}},{key:"moveHorizontal",value:function(t){if(t>0)for(var e=1;e<=t;e++){if(this.x++,!this.validatePosition()){this.x--;break}h.camera.originX++}else for(var i=-1;i>=t;i--){if(this.x--,!this.validatePosition()){this.x++;break}h.camera.originX--}}},{key:"validatePosition",value:function(){var t=!0,e=Math.floor(this.x/h.settings.tileSize),i=Math.floor((this.x+this.width)/h.settings.tileSize),r=Math.floor(this.y/h.settings.tileSize),o=Math.floor((this.y+this.height-1)/h.settings.tileSize);return h.level.isTileSolid(e,r)&&(t=!1),h.level.isTileSolid(i,r)&&(t=!1),h.level.isTileSolid(e,o)&&(t=!1),h.level.isTileSolid(i,o)&&(t=!1),t}}]),n}();exports.default=y;
},{"../index":"KqmS","./drawable":"lehy"}],"jR0p":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=r(require("./map-generation/coordinate")),o=function(){function t(){e(this,t),this.tileSize=50,this.drawTextures=!1,this.playerStart=new i.default(10,10),this.levelRoomCount=5}return n(t,[{key:"zoom",value:function(e){e.preventDefault(),e.deltaY>0?this.tileSize+=-2:this.tileSize+=2}}]),t}();exports.default=o;
},{"./map-generation/coordinate":"oNOt"}],"qewP":[function(require,module,exports) {
"use strict";function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../index"),r=function r(){var n=this;e(this,r),this.originX=0,this.originY=0,i.emitter.on("renderObjects",function(){i.debug.cameraX=n.originX,i.debug.cameraY=n.originY})};exports.default=r;
},{"../index":"KqmS"}],"eQOU":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require(".."),o=function(){function n(){e(this,n),this.drawables=[],t.emitter.on("renderObjects",this.processQueue.bind(this))}return r(n,[{key:"processQueue",value:function(){this.drawables.sort(function(e,n){return e.zIndex-n.zIndex}).forEach(function(e){e.draw()})}}]),n}();exports.default=o;
},{"..":"KqmS"}],"AsaC":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function n(){e(this,n),this.mobs=[]}return t(n,[{key:"populateRoom",value:function(e,n){}}]),n}();exports.default=o;
},{}],"KqmS":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./engine/canvas")),r=e(require("./engine/debug")),n=require("eventemitter3"),s=e(require("./engine/keystates")),i=e(require("./map-generation/level")),a=e(require("./engine/player")),o=e(require("./settings")),u=e(require("./engine/camera")),d=e(require("./engine/draw-queue")),p=e(require("./engine/director"));function l(){document.addEventListener("keydown",function(e){exports.keystates.setKey(e.keyCode,!0)}),document.addEventListener("keyup",function(e){exports.keystates.setKey(e.keyCode,!1)}),document.getElementById("main-canvas").addEventListener("wheel",function(e){exports.settings.zoom(e)}),exports.emitter.emit("updatePhysics"),exports.emitter.emit("renderObjects");setInterval(function(){exports.emitter.emit("updatePhysics")},32),setInterval(function(){exports.canvas.canvasCTX.fillStyle="#2c2c5e",exports.canvas.canvasCTX.fillRect(0,0,exports.canvas.width,exports.canvas.height),exports.emitter.emit("renderObjects")},32)}exports.settings=new o.default,exports.director=new p.default,exports.emitter=new n.EventEmitter,exports.drawQueue=new d.default,exports.canvas=new t.default,exports.camera=new u.default,exports.keystates=new s.default,exports.level=new i.default(exports.settings.levelRoomCount),exports.player=new a.default(exports.settings.playerStart.x,exports.settings.playerStart.y),exports.debug=new r.default,window.onload=function(){l()};
},{"./engine/canvas":"N3Pg","./engine/debug":"ODNz","eventemitter3":"LqgX","./engine/keystates":"diul","./map-generation/level":"Q5Gq","./engine/player":"UOjr","./settings":"jR0p","./engine/camera":"qewP","./engine/draw-queue":"eQOU","./engine/director":"AsaC"}]},{},["KqmS"], null)
//# sourceMappingURL=scripts.0877819a.js.map